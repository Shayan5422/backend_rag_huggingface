{
    "model_id": "sentence-transformers/multi-qa-mpnet-base-cos-v1",
    "downloads": 263192,
    "tags": [
        "sentence-transformers",
        "pytorch",
        "onnx",
        "safetensors",
        "openvino",
        "mpnet",
        "fill-mask",
        "feature-extraction",
        "sentence-similarity",
        "transformers",
        "en",
        "autotrain_compatible",
        "endpoints_compatible",
        "region:us"
    ],
    "description": "--- language: - en library_name: sentence-transformers tags: - sentence-transformers - feature-extraction - sentence-similarity - transformers pipeline_tag: sentence-similarity --- # multi-qa-mpnet-base-cos-v1 This is a sentence-transformers model: It maps sentences & paragraphs to a 768 dimensional dense vector space and was designed for **semantic search**. It has been trained on 215M (question, answer) pairs from diverse sources. For an introduction to semantic search, have a look at: SBERT.net - Semantic Search ## Usage (Sentence-Transformers) Using this model becomes easy when you have sentence-transformers installed: Then you can use the model like this: ## Usage (HuggingFace Transformers) Without sentence-transformers, you can use the model like this: First, you pass your input through the transformer model, then you have to apply the correct pooling-operation on-top of the contextualized word embeddings. ## Technical Details In the following some technical details how this model must be used: | Setting | Value | | --- | :---: | | Dimensions | 768 | | Produces normalized embeddings | Yes | | Pooling-Method | Mean pooling | | Suitable score functions | dot-product (), cosine-similarity (), or euclidean distance | Note: When loaded with , this model produces normalized embeddings with length 1. In that case, dot-product and cosine-similarity are equivalent. dot-product is preferred as it is faster. Euclidean distance is proportional to dot-product and can also be used. ---- ## Background The project aims to train sentence embedding models on very large sentence level datasets using a self-supervised contrastive learning objective. We use a contrastive learning objective: given a sentence from the pair, the model should predict which out of a set of randomly sampled other sentences, was actually paired with it in our dataset. We developped this model during the Community week using JAX/Flax for NLP & CV, organized by Hugging Face. We developped this model as part of the project: Train the Best Sentence Embedding Model Ever with 1B Training Pairs. We benefited from efficient hardware infrastructure to run the project: 7 TPUs v3-8, as well as intervention from Googles Flax, JAX, and Cloud team member about efficient deep learning frameworks. ## Intended uses Our model is intented to be used for semantic search: It encodes queries / questions and text paragraphs in a dense vector space. It finds relevant documents for the given passages. Note that there is a limit of 512 word pieces: Text longer than that will be truncated. Further note that the model was just trained on input text up to 250 word pieces. It might not work well for longer text. ## Training procedure The full training script is accessible in this current repository: . ### Pre-training We use the pretrained []( model. Please refer to the model card for more detailed information about the pre-training procedure. #### Training We use the concatenation from multiple datasets to fine-tune our model. In total we have about 215M (question, answer) pairs. We sampled each dataset given a weighted probability which configuration is detailed in the file. The model was trained with MultipleNegativesRankingLoss using Mean-pooling, cosine-similarity as similarity function, and a scale of 20. | Dataset | Number of training tuples | |--------------------------------------------------------|:--------------------------:| | WikiAnswers Duplicate question pairs from WikiAnswers | 77,427,422 | | PAQ Automatically generated (Question, Paragraph) pairs for each paragraph in Wikipedia | 64,371,441 | | Stack Exchange (Title, Body) pairs from all StackExchanges | 25,316,456 | | Stack Exchange (Title, Answer) pairs from all StackExchanges | 21,396,559 | | MS MARCO Triplets (query, answer, hard_negative) for 500k queries from Bing search engine | 17,579,773 | | GOOAQ: Open Question Answering with Diverse Answer Types (query, answer) pairs for 3M Google queries and Google featured snippet | 3,012,496 | | Amazon-QA (Question, Answer) pairs from Amazon product pages | 2,448,839 | Yahoo Answers (Title, Answer) pairs from Yahoo Answers | 1,198,260 | | Yahoo Answers (Question, Answer) pairs from Yahoo Answers | 681,164 | | Yahoo Answers (Title, Question) pairs from Yahoo Answers | 659,896 | | SearchQA (Question, Answer) pairs for 140k questions, each with Top5 Google snippets on that question | 582,261 | | ELI5 (Question, Answer) pairs from Reddit ELI5 (explainlikeimfive) | 325,475 | | Stack Exchange Duplicate questions pairs (titles) | 304,525 | | Quora Question Triplets (Question, Duplicate_Question, Hard_Negative) triplets for Quora Questions Pairs dataset | 103,663 | | Natural Questions (NQ) (Question, Paragraph) pairs for 100k real Google queries with relevant Wikipedia paragraph | 100,231 | | SQuAD2.0 (Question, Paragraph) pairs from SQuAD2.0 dataset | 87,599 | | TriviaQA (Question, Evidence) pairs | 73,346 | | **Total** | **214,988,242** |",
    "model_explanation_gemini": "Embeds sentences and paragraphs into 768-dimensional vectors for semantic search, trained on 215M question-answer pairs to find relevant documents."
}